package.GameLiftAgent = {
    interfaces = (1.0);

    build-system = happytrails;
    build-tools = {
        1.0 = {
            DaggerAntBuildLogic = 2.x;    # Dagger build logic
            DaggerBuildTool     = 2.45.x; # Dagger build tools
            GameScaleCheckstyle = 1.3;    # GameLift-specific code convention checker
            HappierTrails       = 3.6;    # Ant tools for building Java applications
            JDK17               = 1.0;    # JDK version necessary to run the Happytrails build system
            Lombok              = 1.18.x; # Tool for generating common methods for Java classes from annotations
            LombokUtils         = 1.1;    # Amazon-specific lombok configurations
        };
    };

    dependencies = {
        1.0 = {
            DaggerRuntime = 2.45.x; # Dagger runtime for DI

            AWSGameLiftJavaClient = 1.12.x; # Access GameLift through the AWS SDK.
            AWSS3JavaClient = 1.12.x; # Used for retrieving presigned URLs and uploading logs to S3

            Gson = 2.8.x;

            Jackson-databind = 2.12.x; # Parse cli runtime config
            Jackson-datatype-jsr310 = 2.12.x; # Parsing websocket messages
            JakartaCommons-cli = 1.x; # Provides command line parsing functionality
            JakartaCommons-collections4 = 4.x;
            JakartaCommons-lang3 = 3.y; # Used for string utils to help format command line messages
            JNA = 5.x;
            JNA-Platform = 5.x;

            Log4j-api = 2.x; # Vends classes needed to integrate with logging frameworks without specifying an implementation
            log4j = 2.x;     # Main logging implementation
            Log4j-core = 2.x;
            Log4j-slf4j = 2.x;  # Use Log4j 2.x as our Slf4j logging implementation

            Maven-com-google-guava_guava = 32.x;
            Maven-commons-io_commons-io = 2.x;

            Slf4j = 1.7;
        };
    };

    runtime-dependencies = {
        1.0 = {
            JDK17 = 1.0;
        };
    };

    test-dependencies = {
        1.0 = {
            JakartaCommons-lang3 = 3.y;
            JUnit5 = 5.x;
            Mockito = 5.x;
            Mockito-junit-jupiter = 5.x;
        };
    };

    remove-dependencies = {
        1.0 = {
            JakartaCommons-cli = 1.2;

            # Removing Maven log4j dependencies which bring in Slf4j-1.8 transitively and break our logging
            Maven-org-slf4j_slf4j-api = 1.x;
            Maven-org-slf4j_slf4j-parent = 1.x;
        };
    };

    targets = {
        GameLiftAgent-1.0 = { type = javalibrary; };
    };
};
