# The archive_jars config will create a zip file containing build/lib/*.jar files.
# The unzipped output artifact will include the lib directory.
# https://builderhub.corp.amazon.com/docs/bats/user-guide/transformers-lambda.html#how-it-works
#
# The GameLiftAgent produces a standalone JAR in the build, which contains all the dependencies.
# This is the only JAR we need to deploy, so customize the archive system to only include that JAR
# and not include JARs for the rest of our dependencies.
#
# We're using archive_jars over archive_empty since archive_jars will validate that at least one file
# gets transformed by the archive system
archive_system: archive_jars
archive_system_regex_exclude:
  - .*
data_files_regex_include:
  - GameLiftAgent-standalone-[0-9_]+\.jar